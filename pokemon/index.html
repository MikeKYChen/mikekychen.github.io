<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="icon" type="image/x-icon" href="/pokemon/images/favicon.ico">
  <title>MEZASTAR Ultra - Vue Edition</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      height: 100%;
      /* ğŸŒŸ ä½¿ç”¨å‹•æ…‹è¦–å£é«˜åº¦ */
      height: 100dvh;
      height: -webkit-fill-available;
      overflow: hidden;
      position: fixed;
      width: 100%;
    }

    body {
      background: #000;
      color: white;
      font-family: 'Microsoft JhengHei', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      /* ğŸŒŸ ä½¿ç”¨å‹•æ…‹è¦–å£é«˜åº¦ */
      height: 100dvh;
      height: -webkit-fill-available;
      overflow: hidden;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
    }

    #app {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
  </style>
  <script>
    // ä¿®æ­£æ‰‹æ©Ÿç€è¦½å™¨ 100vh å•é¡Œ
    function setVH() {
      const vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', `${vh}px`);
    }

    setVH();
    window.addEventListener('resize', setVH);
    window.addEventListener('orientationchange', setVH);

    // è‡ªå‹•éš±è—åœ°å€æ¬„
    function hideAddressBar() {
      // æª¢æŸ¥æ˜¯å¦ç‚ºç¨ç«‹æ¨¡å¼ï¼ˆPWA æˆ–å¾ä¸»å±å¹•æ‰“é–‹ï¼‰
      const isStandalone = window.matchMedia('(display-mode: standalone)').matches ||
        window.navigator.standalone ||
        document.referrer.includes('android-app://');

      if (!isStandalone) {
        // å»¶é²åŸ·è¡Œï¼Œç¢ºä¿é é¢å·²è¼‰å…¥
        setTimeout(() => {
          // å‘ä¸‹æ»¾å‹• 1px ä¾†éš±è—åœ°å€æ¬„
          window.scrollTo(0, 1);
        }, 100);

        // å¤šæ¬¡å˜—è©¦ä»¥ç¢ºä¿æˆåŠŸ
        setTimeout(() => {
          window.scrollTo(0, 1);
        }, 500);
      }
    }

    // åœ¨é é¢è¼‰å…¥å’Œæ–¹å‘æ”¹è®Šæ™‚éš±è—åœ°å€æ¬„
    window.addEventListener('load', hideAddressBar);
    window.addEventListener('orientationchange', () => {
      setTimeout(hideAddressBar, 100);
    });

    // æª¢æ¸¬ä¸¦æç¤ºç”¨æˆ¶æ·»åŠ åˆ°ä¸»å±å¹•
    function showInstallPrompt() {
      const isStandalone = window.matchMedia('(display-mode: standalone)').matches ||
        window.navigator.standalone;

      // å¦‚æœå·²ç¶“æ˜¯ç¨ç«‹æ¨¡å¼ï¼Œä¸é¡¯ç¤ºæç¤º
      if (isStandalone) return;

      // æª¢æŸ¥æ˜¯å¦å·²ç¶“é—œé–‰éæç¤º
      if (localStorage.getItem('hideInstallPrompt') === 'true') return;

      // æª¢æ¸¬æ˜¯å¦ç‚ºç§»å‹•è¨­å‚™
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

      if (isMobile) {
        // å»¶é² 3 ç§’å¾Œé¡¯ç¤ºæç¤º
        setTimeout(() => {
          const iOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
          const android = /Android/.test(navigator.userAgent);

          let message = '';
          if (iOS) {
            message = 'ğŸ’¡ æç¤ºï¼šé»æ“Šä¸‹æ–¹ "åˆ†äº«" æŒ‰éˆ• â†’ é¸æ“‡ "åŠ å…¥ä¸»ç•«é¢" å¯ç²å¾—æ›´å¥½çš„å…¨å±é«”é©—ï¼';
          } else if (android) {
            message = 'ğŸ’¡ æç¤ºï¼šé»æ“Šç€è¦½å™¨é¸å–® â†’ é¸æ“‡ "æ·»åŠ åˆ°ä¸»å±å¹•" å¯ç²å¾—æ›´å¥½çš„å…¨å±é«”é©—ï¼';
          }

          if (message && confirm(message + '\n\nä¸å†é¡¯ç¤ºæ­¤æç¤ºï¼Ÿ')) {
            localStorage.setItem('hideInstallPrompt', 'true');
          }
        }, 3000);
      }
    }

    window.addEventListener('load', showInstallPrompt);
  </script>
  <script type="module" crossorigin src="/pokemon/assets/index-aba570a5.js"></script>
  <link rel="stylesheet" href="/pokemon/assets/index-82b3192c.css">
</head>

<body>
  <div id="app"></div>
  
</body>

</html>